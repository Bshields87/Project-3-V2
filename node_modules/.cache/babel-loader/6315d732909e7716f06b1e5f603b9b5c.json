{"ast":null,"code":"import _objectSpread from \"/Users/bethany/Desktop/basicRPG 2/basic-rpg/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/bethany/Desktop/basicRPG 2/basic-rpg/src/components/MenuSelect.js\";\nimport React, { Component } from \"react\";\nimport MenuContainer from \"./MenuContainer\";\n\nclass MenuSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.itemRefs = [];\n    this.state = {\n      selected: this.props.selected || 0,\n      handTop: 0,\n      handLeft: 0\n    };\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  componentDidMount() {\n    let selectedElement = this.itemRefs[this.state.selected];\n    this.setState({\n      handTop: selectedElement.offsetTop\n    });\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (!this.props.active) {\n      return;\n    }\n\n    let inc = true;\n\n    if (e.keyCode == \"40\") {\n      inc = true;\n    } else if (e.keyCode == \"38\") {\n      inc = false;\n    } else if (e.keyCode == \"13\" || e.keyCode == \"32\") {\n      if (this.props.onChoice) {\n        this.props.onChoice(this.state.selected);\n      }\n\n      return;\n    } else {\n      return;\n    }\n\n    this.setState(state => {\n      let selected = inc ? (state.selected + 1) % this.props.items.length : state.selected == 0 ? this.props.items.length - 1 : (state.selected - 1) % this.props.items.length;\n      let handTop = this.itemRefs[selected].offsetTop;\n      return {\n        selected,\n        handTop\n      };\n    });\n    e.preventDefault();\n  }\n\n  render() {\n    return React.createElement(MenuContainer, {\n      style: _objectSpread({}, this.props.style, {\n        paddingLeft: \"44px\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.props.items.map((item, index) => React.createElement(\"div\", {\n      className: \"menu_item_wrapper\",\n      style: this.props.itemStyle,\n      ref: e => this.itemRefs[index] = e,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.props.renderItem(item, index))), this.props.active ? React.createElement(\"div\", {\n      className: \"menu_hand\" //style={{ top: this.state.handTop, left: this.state.handLeft }}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"http://res.cloudinary.com/forte-3d/image/upload/v1512749704/hand_gkm8wr.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })) : null);\n  }\n\n}\n\nexport default MenuSelect;","map":{"version":3,"sources":["/Users/bethany/Desktop/basicRPG 2/basic-rpg/src/components/MenuSelect.js"],"names":["React","Component","MenuContainer","MenuSelect","constructor","props","itemRefs","state","selected","handTop","handLeft","onKeyDown","bind","componentDidMount","selectedElement","setState","offsetTop","window","addEventListener","componentWillUnmount","removeEventListener","e","active","inc","keyCode","onChoice","items","length","preventDefault","render","style","paddingLeft","map","item","index","itemStyle","renderItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MenuContainer from \"./MenuContainer\";\n\nclass MenuSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.itemRefs = [];\n    this.state = {\n      selected: this.props.selected || 0,\n      handTop: 0,\n      handLeft: 0\n    };\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  componentDidMount() {\n    let selectedElement = this.itemRefs[this.state.selected];\n\n    this.setState({\n      handTop: selectedElement.offsetTop\n    });\n\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (!this.props.active) {\n      return;\n    }\n\n    let inc = true;\n\n    if (e.keyCode == \"40\") {\n      inc = true;\n    } else if (e.keyCode == \"38\") {\n      inc = false;\n    } else if (e.keyCode == \"13\" || e.keyCode == \"32\") {\n      if (this.props.onChoice) {\n        this.props.onChoice(this.state.selected);\n      }\n      return;\n    } else {\n      return;\n    }\n\n    this.setState(state => {\n      let selected = inc\n        ? (state.selected + 1) % this.props.items.length\n        : state.selected == 0\n        ? this.props.items.length - 1\n        : (state.selected - 1) % this.props.items.length;\n\n      let handTop = this.itemRefs[selected].offsetTop;\n\n      return { selected, handTop };\n    });\n\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <MenuContainer style={{ ...this.props.style, paddingLeft: \"44px\" }}>\n        {this.props.items.map((item, index) => (\n          <div\n            className=\"menu_item_wrapper\"\n            style={this.props.itemStyle}\n            ref={e => (this.itemRefs[index] = e)}\n            key={index}\n          >\n            {this.props.renderItem(item, index)}\n          </div>\n        ))}\n        {this.props.active ? (\n          <div\n            className=\"menu_hand\"\n            //style={{ top: this.state.handTop, left: this.state.handLeft }}\n          >\n            <img src=\"http://res.cloudinary.com/forte-3d/image/upload/v1512749704/hand_gkm8wr.png\" />\n          </div>\n        ) : null}\n      </MenuContainer>\n    );\n  }\n}\nexport default MenuSelect;\n"]},"metadata":{},"sourceType":"module"}